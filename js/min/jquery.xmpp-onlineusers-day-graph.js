jQuery(document).ready(function(e){function a(){e.ajax({method:"GET",url:xmpp_onlineusers_day_graph.data_url,dataType:"json",timeout:3e4,success:function(a){n=a,e.plot("#xmpp_onlineusers_day_graph",n,i)}})}function o(){e.ajax({method:"GET",url:xmpp_onlineusers_day_graph.cache_data_url,dataType:"json",timeout:3e4,success:function(a){a&&(n=a,e.plot("#xmpp_onlineusers_day_graph",n,i))},complete:function(){a(),setInterval(function(){a()},3e5)}})}var n=[],i={xaxis:{mode:"time",timezone:"browser",tickSize:[4,"hour"],timeformat:"%a</br>%H:%S",dayNames:xmpp_onlineusers_day_graph.day_names},yaxis:{tickDecimals:0},series:{lines:{lineWidth:1},shadowSize:0},grid:{clickable:!0,hoverable:!0,color:xmpp_onlineusers_day_graph.grind_color,borderWidth:1},legend:{show:!1}};e("#xmpp_onlineusers_day_graph").bind("plothover",function(a,o,n){var i=null;if(n){if(i!=n.dataIndex){i=n.dataIndex,e("#flot-tooltip").remove();var t=n.datapoint[0],r=n.datapoint[1],p=new Date(t);p=p.toLocaleTimeString(),showToolTip(e("#xmpp_onlineusers_day_graph"),n.pageX,n.pageY,n.series.caption+r+xmpp_onlineusers_day_graph.caption+p)}}else e("#flot-tooltip").remove(),i=null}),o(),e(window).on("resize",function(){e.plot("#xmpp_onlineusers_day_graph",n,i)})});